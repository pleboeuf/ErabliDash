<!doctype html>
<html lang="fr">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta
            name="description"
            content="Tableau de bord numérique - Erabli-DAS - Érablière Brunelle"
        />
        <title>Tableaux Numériques - Erabli-DAS</title>
        <link rel="icon" type="image/x-icon" href="/cabane2021/favicon.ico" />
        <link rel="stylesheet" href="/lib/w3schools23.css" />
        <link
            rel="stylesheet"
            href="https://www.w3schools.com/lib/w3-theme-grey.css"
        />
        <link rel="stylesheet" href="/lib/numeric.css" />
        <style>
            .nav-menu {
                position: relative;
                z-index: 1000;
            }
            .nav-menu-label {
                color: white;
                cursor: pointer;
                padding: 0.4rem 0.8rem;
                background-color: rgba(12, 1, 82, 0.9);
                border-radius: 4px;
                font-size: 0.85rem;
                border: 1px solid rgba(255, 255, 255, 0.3);
                display: inline-block;
            }
            .nav-menu-items {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                flex-direction: column;
                gap: 0.25rem;
                margin-top: 0.25rem;
                min-width: 120px;
            }
            .nav-menu:hover .nav-menu-items {
                display: flex;
            }
            .nav-menu:hover .nav-menu-label {
                background-color: rgba(20, 10, 100, 0.95);
            }
            .nav-menu a {
                color: white;
                text-decoration: none;
                padding: 0.4rem 0.8rem;
                background-color: rgba(12, 1, 82, 0.95);
                border-radius: 4px;
                font-size: 0.85rem;
                transition: background-color 0.3s;
                border: 1px solid rgba(255, 255, 255, 0.3);
            }
            .nav-menu a:hover {
                background-color: rgba(20, 10, 100, 0.95);
            }
            .nav-menu a.active {
                background-color: rgba(30, 20, 120, 1);
                font-weight: bold;
                border-color: rgba(255, 255, 255, 0.6);
            }
            @media (max-width: 768px) {
                .nav-menu-items {
                    min-width: auto;
                }
                .nav-menu a {
                    font-size: 0.75rem;
                    padding: 0.3rem 0.6rem;
                }
            }
            /* Season dialog styles */
            .season-dialog {
                display: none;
                position: fixed;
                z-index: 1001;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5);
            }
            .season-dialog-content {
                background-color: #fefefe;
                margin: 10% auto;
                padding: 20px;
                border: 1px solid #888;
                width: fit-content;
                min-width: 350px;
                border-radius: 8px;
            }
            .season-dialog-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 15px;
                border-bottom: 1px solid #ddd;
                padding-bottom: 10px;
            }
            .season-dialog-header h3 {
                margin: 0;
                color: #333;
            }
            .season-dialog-close {
                color: #aaa;
                font-size: 28px;
                font-weight: bold;
                cursor: pointer;
            }
            .season-dialog-close:hover {
                color: #000;
            }
            .season-pump-row {
                display: flex;
                align-items: center;
                margin: 10px 0;
                padding: 10px;
                background-color: #f5f5f5;
                border-radius: 4px;
            }
            .season-pump-btn {
                padding: 8px 16px;
                margin-right: 15px;
                font-size: 14px;
                font-weight: bold;
                cursor: pointer;
                border: none;
                border-radius: 4px;
                background-color: #4caf50;
                color: white;
                min-width: 50px;
            }
            .season-pump-btn:disabled {
                background-color: #cccccc;
                cursor: not-allowed;
            }
            .season-pump-btn:not(:disabled):hover {
                background-color: #45a049;
            }
            .season-datetime {
                font-family: monospace;
                font-size: 14px;
                color: #333;
                min-width: 180px;
            }
            .season-datetime.recorded {
                color: #2196f3;
                font-weight: bold;
            }
            .season-datetime-input {
                font-family: monospace;
                font-size: 14px;
                padding: 4px 8px;
                border: 1px solid #ccc;
                border-radius: 4px;
                min-width: 200px;
            }
            .season-datetime-input:disabled {
                background-color: #f0f0f0;
                color: #666;
            }
            .season-validate-btn {
                padding: 6px 12px;
                border: none;
                border-radius: 4px;
                background-color: #2196f3;
                color: white;
                cursor: pointer;
                margin-left: 8px;
            }
            .season-validate-btn:disabled {
                background-color: #cccccc;
                cursor: not-allowed;
            }
            .season-validate-btn:not(:disabled):hover {
                background-color: #1976d2;
            }
            .season-now-btn {
                padding: 6px 10px;
                border: none;
                border-radius: 4px;
                background-color: #ff9800;
                color: white;
                cursor: pointer;
                margin-left: 4px;
                font-size: 12px;
            }
            .season-now-btn:disabled {
                background-color: #cccccc;
                cursor: not-allowed;
            }
            .season-now-btn:not(:disabled):hover {
                background-color: #f57c00;
            }
            .season-error {
                color: red;
                font-size: 12px;
                margin-left: 8px;
            }
            .nav-menu-item-clickable {
                color: white;
                text-decoration: none;
                padding: 0.4rem 0.8rem;
                background-color: rgba(12, 1, 82, 0.95);
                border-radius: 4px;
                font-size: 0.85rem;
                transition: background-color 0.3s;
                border: 1px solid rgba(255, 255, 255, 0.3);
                cursor: pointer;
                display: block;
            }
            .nav-menu-item-clickable:hover {
                background-color: rgba(20, 10, 100, 0.95);
            }
            /* Analyse de saison dialog styles */
            .analyse-saison-dialog {
                display: none;
                position: fixed;
                z-index: 1001;
                left: 0;
                top: 0;
                width: 100%;
                height: 100%;
                background-color: rgba(0, 0, 0, 0.5);
            }
            .analyse-saison-dialog-content {
                background-color: #fefefe;
                margin: 15% auto;
                padding: 20px;
                border: 1px solid #888;
                width: fit-content;
                min-width: 300px;
                border-radius: 8px;
            }
            .analyse-saison-dialog-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 15px;
                border-bottom: 1px solid #ddd;
                padding-bottom: 10px;
            }
            .analyse-saison-dialog-header h3 {
                margin: 0;
                color: #333;
            }
            .analyse-saison-dialog-close {
                color: #aaa;
                font-size: 28px;
                font-weight: bold;
                cursor: pointer;
            }
            .analyse-saison-dialog-close:hover {
                color: #000;
            }
            .analyse-saison-form {
                display: flex;
                flex-direction: column;
                gap: 15px;
            }
            .analyse-saison-form label {
                font-weight: bold;
                color: #333;
            }
            .analyse-saison-year-row {
                display: flex;
                align-items: center;
                gap: 10px;
            }
            .analyse-saison-year-input {
                font-family: monospace;
                font-size: 16px;
                padding: 8px 12px;
                border: 1px solid #ccc;
                border-radius: 4px;
                width: 100px;
                text-align: center;
            }
            .analyse-saison-year-input:focus {
                outline: none;
                border-color: #2196f3;
                box-shadow: 0 0 5px rgba(33, 150, 243, 0.3);
            }
            .analyse-saison-year-input.invalid {
                border-color: red;
                background-color: #fff0f0;
            }
            .analyse-saison-ok-btn {
                padding: 10px 24px;
                border: none;
                border-radius: 4px;
                background-color: #4caf50;
                color: white;
                cursor: pointer;
                font-size: 14px;
                font-weight: bold;
            }
            .analyse-saison-ok-btn:disabled {
                background-color: #cccccc;
                cursor: not-allowed;
            }
            .analyse-saison-ok-btn:not(:disabled):hover {
                background-color: #45a049;
            }
            .analyse-saison-error {
                color: red;
                font-size: 12px;
                min-height: 16px;
            }
        </style>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/peity/3.3.0/jquery.peity.js"></script>
        <script src="/scripts/numeric.js"></script>
        <script
            type="text/javascript"
            src="https://cdn.jsdelivr.net/npm/particle-api-js@10/dist/particle.min.js"
        ></script>
        <script>
            // Suppress Particle.js XMLHttpRequestResponseType warnings in console
            const originalWarn = console.warn;
            console.warn = function (...args) {
                const message = args[0];
                if (
                    typeof message === "string" &&
                    message.includes("XMLHttpRequestResponseType")
                ) {
                    return; // Suppress this specific warning
                }
                originalWarn.apply(console, args);
            };

            const particle = new Particle();
        </script>
    </head>

    <body>
        <!-- Analyse de saison dialog -->
        <div id="analyseSaisonDialog" class="analyse-saison-dialog">
            <div class="analyse-saison-dialog-content">
                <div class="analyse-saison-dialog-header">
                    <h3>Analyse de saison</h3>
                    <span
                        class="analyse-saison-dialog-close"
                        onclick="hideAnalyseSaisonDialog()"
                        >&times;</span
                    >
                </div>
                <div class="analyse-saison-form">
                    <label for="analyseSaisonYearInput">Année:</label>
                    <div class="analyse-saison-year-row">
                        <input
                            type="number"
                            class="analyse-saison-year-input"
                            id="analyseSaisonYearInput"
                            min="2022"
                            max="2099"
                            step="1"
                            oninput="validateAnalyseSaisonYear()"
                        />
                        <button
                            class="analyse-saison-ok-btn"
                            id="analyseSaisonOkBtn"
                            onclick="confirmAnalyseSaison()"
                        >
                            Ok
                        </button>
                    </div>
                    <span
                        class="analyse-saison-error"
                        id="analyseSaisonError"
                    ></span>
                </div>
            </div>
        </div>

        <!-- Début de saison dialog -->
        <div id="debutSaisonDialog" class="season-dialog">
            <div class="season-dialog-content">
                <div class="season-dialog-header">
                    <h3 id="debutSaisonTitle">Début de saison</h3>
                    <span
                        class="season-dialog-close"
                        onclick="hideSeasonDialog('start')"
                        >&times;</span
                    >
                </div>
                <div class="season-pump-row">
                    <span
                        class="season-pump-btn"
                        style="background-color: #666; cursor: default"
                        >P1</span
                    >
                    <input
                        type="datetime-local"
                        class="season-datetime-input"
                        id="startP1Input"
                        step="1"
                    />
                    <button
                        class="season-now-btn"
                        id="startP1NowBtn"
                        onclick="setNowDateTime('start', 'P1')"
                        title="Maintenant"
                    >
                        Now
                    </button>
                    <button
                        class="season-validate-btn"
                        id="startP1ValidateBtn"
                        onclick="validateAndRecordSeasonTime('start', 'P1')"
                    >
                        Valider
                    </button>
                    <span class="season-error" id="startP1Error"></span>
                    <span
                        class="season-datetime"
                        id="startP1Time"
                        style="display: none"
                    ></span>
                </div>
                <div class="season-pump-row">
                    <span
                        class="season-pump-btn"
                        style="background-color: #666; cursor: default"
                        >P2</span
                    >
                    <input
                        type="datetime-local"
                        class="season-datetime-input"
                        id="startP2Input"
                        step="1"
                    />
                    <button
                        class="season-now-btn"
                        id="startP2NowBtn"
                        onclick="setNowDateTime('start', 'P2')"
                        title="Maintenant"
                    >
                        Now
                    </button>
                    <button
                        class="season-validate-btn"
                        id="startP2ValidateBtn"
                        onclick="validateAndRecordSeasonTime('start', 'P2')"
                    >
                        Valider
                    </button>
                    <span class="season-error" id="startP2Error"></span>
                    <span
                        class="season-datetime"
                        id="startP2Time"
                        style="display: none"
                    ></span>
                </div>
                <div class="season-pump-row">
                    <span
                        class="season-pump-btn"
                        style="background-color: #666; cursor: default"
                        >P3</span
                    >
                    <input
                        type="datetime-local"
                        class="season-datetime-input"
                        id="startP3Input"
                        step="1"
                    />
                    <button
                        class="season-now-btn"
                        id="startP3NowBtn"
                        onclick="setNowDateTime('start', 'P3')"
                        title="Maintenant"
                    >
                        Now
                    </button>
                    <button
                        class="season-validate-btn"
                        id="startP3ValidateBtn"
                        onclick="validateAndRecordSeasonTime('start', 'P3')"
                    >
                        Valider
                    </button>
                    <span class="season-error" id="startP3Error"></span>
                    <span
                        class="season-datetime"
                        id="startP3Time"
                        style="display: none"
                    ></span>
                </div>
            </div>
        </div>

        <!-- Fin de saison dialog -->
        <div id="finSaisonDialog" class="season-dialog">
            <div class="season-dialog-content">
                <div class="season-dialog-header">
                    <h3 id="finSaisonTitle">Fin de saison</h3>
                    <span
                        class="season-dialog-close"
                        onclick="hideSeasonDialog('end')"
                        >&times;</span
                    >
                </div>
                <div class="season-pump-row">
                    <span
                        class="season-pump-btn"
                        style="background-color: #666; cursor: default"
                        >P1</span
                    >
                    <input
                        type="datetime-local"
                        class="season-datetime-input"
                        id="endP1Input"
                        step="1"
                    />
                    <button
                        class="season-now-btn"
                        id="endP1NowBtn"
                        onclick="setNowDateTime('end', 'P1')"
                        title="Maintenant"
                    >
                        Now
                    </button>
                    <button
                        class="season-validate-btn"
                        id="endP1ValidateBtn"
                        onclick="validateAndRecordSeasonTime('end', 'P1')"
                    >
                        Valider
                    </button>
                    <span class="season-error" id="endP1Error"></span>
                    <span
                        class="season-datetime"
                        id="endP1Time"
                        style="display: none"
                    ></span>
                </div>
                <div class="season-pump-row">
                    <span
                        class="season-pump-btn"
                        style="background-color: #666; cursor: default"
                        >P2</span
                    >
                    <input
                        type="datetime-local"
                        class="season-datetime-input"
                        id="endP2Input"
                        step="1"
                    />
                    <button
                        class="season-now-btn"
                        id="endP2NowBtn"
                        onclick="setNowDateTime('end', 'P2')"
                        title="Maintenant"
                    >
                        Now
                    </button>
                    <button
                        class="season-validate-btn"
                        id="endP2ValidateBtn"
                        onclick="validateAndRecordSeasonTime('end', 'P2')"
                    >
                        Valider
                    </button>
                    <span class="season-error" id="endP2Error"></span>
                    <span
                        class="season-datetime"
                        id="endP2Time"
                        style="display: none"
                    ></span>
                </div>
                <div class="season-pump-row">
                    <span
                        class="season-pump-btn"
                        style="background-color: #666; cursor: default"
                        >P3</span
                    >
                    <input
                        type="datetime-local"
                        class="season-datetime-input"
                        id="endP3Input"
                        step="1"
                    />
                    <button
                        class="season-now-btn"
                        id="endP3NowBtn"
                        onclick="setNowDateTime('end', 'P3')"
                        title="Maintenant"
                    >
                        Now
                    </button>
                    <button
                        class="season-validate-btn"
                        id="endP3ValidateBtn"
                        onclick="validateAndRecordSeasonTime('end', 'P3')"
                    >
                        Valider
                    </button>
                    <span class="season-error" id="endP3Error"></span>
                    <span
                        class="season-datetime"
                        id="endP3Time"
                        style="display: none"
                    ></span>
                </div>
            </div>
        </div>
        <header
            class="w3-container"
            style="
                width: 100%;
                height: 50px;
                position: fixed;
                display: flex;
                align-items: center;
                justify-content: space-between;
                padding: 0 70px 0 10px;
                box-sizing: border-box;
            "
            id="BandeauHaut"
        >
            <!-- Menu -->
            <nav class="nav-menu">
                <span class="nav-menu-label">Menu</span>
                <div class="nav-menu-items">
                    <a href="/">Accueil</a>
                    <a href="/numeric.html" class="active">Tableaux</a>
                    <a href="/cabane2021">Schéma</a>
                    <a href="/cabaneMapNew">Carte Vide</a>
                    <a href="/data.json">Data JSON</a>
                    <span
                        class="nav-menu-item-clickable"
                        onclick="showSeasonDialog('start')"
                        id="menuDebutSaison"
                        >Début de saison</span
                    >
                    <span
                        class="nav-menu-item-clickable"
                        onclick="showSeasonDialog('end')"
                        id="menuFinSaison"
                        >Fin de saison</span
                    >
                    <span
                        class="nav-menu-item-clickable"
                        onclick="showAnalyseSaisonDialog()"
                        id="menuAnalyseSaison"
                        >Analyse de saison</span
                    >
                </div>
            </nav>

            <!-- Title -->
            <div
                style="
                    color: white;
                    font-weight: bold;
                    font-size: 1.2rem;
                    margin-left: 2rem;
                    margin-right: 2rem;
                "
            >
                Érablière Brunelle
            </div>

            <!-- Left zone: Alarms -->
            <div
                style="
                    flex: 3;
                    text-align: left;
                    color: white;
                    white-space: nowrap;
                "
                id="ZoneGauche"
            >
                <h4
                    style="margin: 0; padding: 0.2rem; font-weight: bold"
                    id="osmoseAlarm"
                ></h4>
            </div>

            <!-- Right zone: Coulée info -->
            <div
                style="
                    flex: 1;
                    text-align: left;
                    color: white;
                    white-space: nowrap;
                "
                id="coulee"
            >
                <h4 style="margin: 0; padding: 0.2rem; font-weight: bold">
                    <span id="c_text"></span> <span id="compteurDeTemps"></span>
                </h4>
            </div>

            <!-- Activity indicator -->
            <div
                style="
                    position: absolute;
                    right: 10px;
                    top: 50%;
                    transform: translateY(-50%);
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                "
            >
                <div
                    id="activityIndicator"
                    style="
                        width: 24px;
                        height: 24px;
                        border-radius: 50%;
                        border: 1px solid black;
                        background-color: gray;
                    "
                ></div>
                <span style="color: white; font-size: 12px; margin-top: 2px"
                    >Activité</span
                >
            </div>
        </header>

        <section>
            <div
                class="w3-container"
                style="
                    margin-top: 60px;
                    width: 100%;
                    height: max-content;
                    display: inline-block;
                "
            >
                <div
                    class="w3-third"
                    style="width: max-content; margin-right: 2%"
                    id="Reservoirs"
                >
                    <table id="tanklist">
                        <thead>
                            <tr>
                                <th
                                    class="tablename"
                                    colspan="7"
                                    ondblclick="showValveSelector()"
                                >
                                    Réservoirs
                                </th>
                            </tr>
                            <tr>
                                <th class="darker">Réservoirs</th>
                                <th class="darker">Cont. <br />(gal)</th>
                                <th class="darker">Cont. <br />(%)</th>
                                <th class="darker">Valve <br />Sortie</th>
                                <th class="darker">Valve <br />Drain</th>
                                <th>Lect. <br />(mm)</th>
                                <th>Max <br />(gal)</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>

                <!-- Le selecteur de valves d'entrée -->
                <div id="valveSelect" class="w3-container w3-modal">
                    <div class="w3-modal-content" style="width: fit-content">
                        <span class="close" onclick="hideValveSelector()"
                            >&times;</span
                        >
                        <table id="inValves" class="tablename">
                            <tr>
                                <th class="tablename" colspan="4">
                                    Sélecteur de valves d'entrée
                                </th>
                            </tr>
                            <tr>
                                <th class="darker" colspan="2">
                                    Mode d'opération
                                </th>
                                <th class="lighter" style="text-align: left">
                                    <input
                                        type="radio"
                                        id="Manuel"
                                        name="autoMan"
                                        onchange="tanksInputMode()"
                                        checked
                                        disabled
                                    />
                                    <label for="Manuel">Manuel</label>
                                </th>
                                <th class="lighter" style="text-align: left">
                                    <input
                                        type="radio"
                                        id="Auto"
                                        name="autoMan"
                                        onchange="tanksInputMode()"
                                        disabled
                                    />
                                    <label for="Auto">Auto</label>
                                </th>
                            </tr>
                            <tr></tr>
                            <tr>
                                <th class="darker">Équipements</th>
                                <th class="darker">Valve d'entrée</th>
                                <th class="darker">Ouvrir</th>
                                <th class="darker">Fermer</th>
                            </tr>
                            <tr>
                                <th class="darker" style="text-align: left">
                                    RS1
                                </th>
                                <th class="lighter">VaES1</th>
                                <th class="lighter">
                                    <input
                                        type="radio"
                                        id="VaES1_ON"
                                        name="VaES1"
                                        onclick="
                                            inputValvesOnOff('VaES1', 'ON')
                                        "
                                    />
                                </th>
                                <th class="lighter">
                                    <input
                                        type="radio"
                                        id="VaES1_OFF"
                                        name="VaES1"
                                        onclick="
                                            inputValvesOnOff('VaES1', 'OFF')
                                        "
                                    />
                                </th>
                            </tr>
                            <tr>
                                <th class="darker" style="text-align: left">
                                    RS2
                                </th>
                                <th class="lighter">VaES2</th>
                                <th class="lighter">
                                    <input
                                        type="radio"
                                        id="VaES2_ON"
                                        name="VaES2"
                                        onclick="
                                            inputValvesOnOff('VaES2', 'ON')
                                        "
                                    />
                                </th>
                                <th class="lighter">
                                    <input
                                        type="radio"
                                        id="VaES2_OFF"
                                        name="VaES2"
                                        onclick="
                                            inputValvesOnOff('VaES2', 'OFF')
                                        "
                                    />
                                </th>
                            </tr>
                            <tr>
                                <th class="darker" style="text-align: left">
                                    RS3
                                </th>
                                <th class="lighter">VaES3</th>
                                <th class="lighter">
                                    <input
                                        type="radio"
                                        id="VaES3_ON"
                                        name="VaES3"
                                        onclick="
                                            inputValvesOnOff('VaES3', 'ON')
                                        "
                                    />
                                </th>
                                <th class="lighter">
                                    <input
                                        type="radio"
                                        id="VaES3_OFF"
                                        name="VaES3"
                                        onclick="
                                            inputValvesOnOff('VaES3', 'OFF')
                                        "
                                    />
                                </th>
                            </tr>
                            <tr>
                                <th class="darker" style="text-align: left">
                                    PumpHouse
                                </th>
                                <th class="lighter">VaAPH1</th>
                                <th class="lighter">
                                    <input
                                        type="radio"
                                        id="VaAPH1_ON"
                                        name="VaAPH1"
                                        onclick="
                                            PHinputValvesOnOff('VaAPH1', 'ON')
                                        "
                                    />
                                </th>
                                <th class="lighter">
                                    <input
                                        type="radio"
                                        id="VaAPH1_OFF"
                                        name="VaAPH1"
                                        onclick="
                                            PHinputValvesOnOff('VaAPH1', 'OFF')
                                        "
                                    />
                                </th>
                            </tr>
                            <tr>
                                <th class="darker" style="text-align: left">
                                    Drain Ligne PumpHouse
                                </th>
                                <th class="lighter">VaDPH1</th>
                                <th class="lighter">
                                    <input
                                        type="radio"
                                        id="VaDPH1_ON"
                                        name="VaDPH1"
                                        onclick="
                                            PHinputValvesOnOff('VaDPH1', 'ON')
                                        "
                                    />
                                </th>
                                <th class="lighter">
                                    <input
                                        type="radio"
                                        id="VaDPH1_OFF"
                                        name="VaDPH1"
                                        onclick="
                                            PHinputValvesOnOff('VaDPH1', 'OFF')
                                        "
                                    />
                                </th>
                            </tr>
                        </table>
                        <p>Note: Le changement prend environ 10 secondes.</p>
                    </div>
                </div>

                <div
                    class="w3-third"
                    style="width: max-content; margin-right: 2%"
                    id="Pompes"
                >
                    <table id="pumplist">
                        <thead>
                            <tr>
                                <th class="tablename" colspan="5">Pompes</th>
                            </tr>
                            <tr>
                                <th class="darker">Pompes</th>
                                <th class="darker V_position">Etat</th>
                                <th class="darker">Util. <br />(%)</th>
                                <th class="darker">Débit ↓<br />(gph)</th>
                                <th class="darker">Vol. <br />(gal)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr id="pumptotalrow" class="lighter">
                                <td class="darker">Total</td>
                                <td></td>
                                <td></td>
                                <td
                                    id="pumptotalrate"
                                    class="pumprate"
                                    style="font-weight: bold"
                                ></td>
                                <td
                                    id="volumetotal"
                                    class="pumpvolume"
                                    style="font-weight: bold"
                                ></td>
                            </tr>
                            <tr class="lighter">
                                <td class="darker">Sirop Est.</td>
                                <td></td>
                                <td></td>
                                <td
                                    id="debitEstimSirop"
                                    class="pumpvolume"
                                    style="
                                        font-style: italic;
                                        font-weight: bold;
                                    "
                                ></td>
                                <td
                                    id="estimSirop"
                                    class="pumpvolume"
                                    style="
                                        font-style: italic;
                                        font-weight: bold;
                                    "
                                ></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="w3-third" style="width: max-content" id="Osmose">
                    <table id="OsmoseSystem">
                        <thead>
                            <tr>
                                <th class="tablename" colspan="4">
                                    Système d'Osmose
                                </th>
                            </tr>
                            <tr>
                                <th class="darker" colspan="2">Machine</th>
                                <th class="darker" colspan="2">
                                    Concentration
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="darker">État</td>
                                <td
                                    class="lighter V_position"
                                    id="Osmose_state"
                                ></td>
                                <td class="darker">Séquence</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_sequence"
                                ></td>
                            </tr>
                            <tr>
                                <td class="darker">Fonction</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_fonction"
                                ></td>
                                <td class="darker">Brix Sève</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_BrixSeve"
                                ></td>
                            </tr>
                            <tr>
                                <td class="darker">Durée opér. en cours</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_tOperEC"
                                ></td>
                                <td class="darker">Brix Concentré</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_BrixConc"
                                ></td>
                            </tr>
                            <tr>
                                <td class="darker">Durée séq. 1234</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_TempsSeq1234"
                                ></td>
                                <td class="darker">Débit Col1 (g/m)</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_Col1"
                                ></td>
                            </tr>
                            <tr>
                                <td class="darker">Durée séq. 4321</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_TempsSeq4321"
                                ></td>
                                <td class="darker">Débit Col2 (g/m)</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_Col2"
                                ></td>
                            </tr>
                            <tr>
                                <td class="darker">T. Depuis lavage</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_TempsDepuisLavage"
                                ></td>
                                <td class="darker">Débit Col3 (g/m)</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_Col3"
                                ></td>
                            </tr>
                            <tr>
                                <td class="darker">Mise à jour</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_lastUpdatedAt"
                                ></td>
                                <td class="darker">Débit Col4 (g/m)</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_Col4"
                                ></td>
                            </tr>
                            <tr>
                                <td class="darker">Code alarme</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_alarmNo"
                                ></td>
                                <td class="darker">Débit Conc. (g/m)</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_Conc"
                                ></td>
                            </tr>
                            <tr>
                                <td class="darker">Message d'alarme</td>
                                <td class="lighter" id="Osmose_alarmMsg"></td>
                                <td class="darker">Température (°C)</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_Temp"
                                ></td>
                            </tr>
                            <tr>
                                <td class="darker"></td>
                                <td class="lighter rawvalue"></td>
                                <td class="darker">Pression (PSI)</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_Pres"
                                ></td>
                            </tr>
                        </tbody>
                        <thead>
                            <tr>
                                <th class="tablename" colspan="4">Sommaire</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="darker">PC Conc. (%)</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_PC_Conc"
                                ></td>
                                <td class="darker">Débit Total (g/h)</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_Total_GPH"
                                ></td>
                            </tr>
                            <tr>
                                <td class="darker">Débit Conc. (g/h)</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_Conc_GPH"
                                ></td>
                                <td class="darker">Débit Filtrat (g/h)</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_Filtrat_GPH"
                                ></td>
                            </tr>
                            <tr>
                                <td class="darker">Durée d'Osmose</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_Durée_sec"
                                ></td>
                                <td class="darker">Durée totale Estimé</td>
                                <td
                                    class="lighter rawvalue"
                                    id="Osmose_temps_approx"
                                ></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div
                class="w3-container"
                style="margin-top: 10px; width: 100%; height: max-content"
                id="Summary_Valves_Vacuum"
            >
                <div
                    class="w3-third"
                    style="width: max-content; margin-right: 2%"
                    id="Sommaire Reservoirs"
                >
                    <table id="totalReservoirs">
                        <thead>
                            <tr>
                                <th class="tablename" colspan="7">
                                    Sommaire des Réservoirs
                                </th>
                            </tr>
                            <tr>
                                <th class="darker">Sommaire</th>
                                <th class="darker">Cont.</th>
                                <th class="darker">Act. <br />(gal)</th>
                                <th class="darker">Act. <br />(%)</th>
                                <th class="darker">Sirop <br />(gal)</th>
                                <th class="darker">Disp. <br />(gal)</th>
                                <th>Max. <br />(gal)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="darker tankpercent">
                                    RS1 à RS6
                                    <input
                                        type="checkbox"
                                        id="CheckRF2"
                                        onclick="functionPlusRF2()"
                                    />+RF2
                                </td>
                                <td class="lighter">Sève</td>
                                <td class="lighter" id="RStot"></td>
                                <td
                                    class="lighter V_position"
                                    id="RStotPC"
                                ></td>
                                <td
                                    class="lighter V_position"
                                    id="RStoSirop"
                                ></td>
                                <td class="lighter V_position" id="RSdisp"></td>
                                <td class="lighter V_position" id="RSmax"></td>
                            </tr>
                            <tr>
                                <td class="darker" id="RFsummaryName">
                                    RF1 + RF2
                                </td>
                                <td class="lighter">Filt.</td>
                                <td class="lighter" id="RFtot"></td>
                                <td
                                    class="lighter V_position"
                                    id="RFtotPC"
                                ></td>
                                <td class="lighter V_position"></td>
                                <td class="lighter V_position" id="RFdisp"></td>
                                <td class="lighter V_position" id="RFmax"></td>
                            </tr>
                            <tr>
                                <td class="darker">RC1 + RC2</td>
                                <td class="lighter">Conc.</td>
                                <td class="lighter" id="RCtot"></td>
                                <td
                                    class="lighter V_position"
                                    id="RCtotPC"
                                ></td>
                                <td
                                    class="lighter V_position"
                                    id="RCtoSirop"
                                ></td>
                                <td class="lighter V_position" id="RCdisp"></td>
                                <td class="lighter V_position" id="RCmax"></td>
                            </tr>
                            <tr>
                                <td class="darker">Total</td>
                                <td class="lighter">Sirop</td>
                                <td class="lighter" id="SIRtot"></td>
                                <td
                                    class="lighter V_position"
                                    id="SIRtotPC"
                                ></td>
                                <td
                                    class="lighter V_position"
                                    id="SIRtotal"
                                ></td>
                                <td
                                    class="lighter V_position"
                                    id="SIRdisp"
                                ></td>
                                <td class="lighter V_position" id="SIRmax"></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div
                    class="w3-third"
                    style="width: max-content; margin-right: 2%"
                    id="Div autreValves"
                >
                    <table id="autreValves">
                        <thead>
                            <tr>
                                <th class="tablename" colspan="3">
                                    Valves Indépendantes
                                </th>
                            </tr>
                            <tr>
                                <th class="darker">Valves</th>
                                <th class="darker">Description</th>
                                <th class="darker">Position</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="darker">VaEC</td>
                                <td class="lighter">Entrée Cabane</td>
                                <td
                                    class="lighter V_position"
                                    id="VaEC_position"
                                ></td>
                            </tr>
                            <tr>
                                <td class="darker">VaTk</td>
                                <td class="lighter">Sortie Tankers</td>
                                <td
                                    class="lighter V_position"
                                    id="VaTk_position"
                                ></td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div
                    class="w3-third"
                    style="width: max-content; margin-left: 2%"
                    id="vacuumLocal"
                >
                    <table id="vacuumlist2">
                        <thead>
                            <tr>
                                <th class="tablename" colspan="5">
                                    Vacuum à l'Érablière
                                </th>
                            </tr>
                            <tr>
                                <th class="darker">Nom</th>
                                <th class="darker">Vac. (inHg)</th>
                                <th class="darker">Temps Oper.</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="darker" id="name_POMPE 1"></td>
                                <td class="lighter" id="val_POMPE 1">0</td>
                                <td
                                    class="lighter"
                                    id="tOper_EB-V1"
                                    onclick="callResetOperTimer('EB-V1')"
                                >
                                    0
                                </td>
                            </tr>
                            <tr>
                                <td class="darker" id="name_POMPE 2"></td>
                                <td class="lighter" id="val_POMPE 2">0</td>
                                <td
                                    class="lighter"
                                    id="tOper_EB-V2"
                                    onclick="callResetOperTimer('EB-V2')"
                                >
                                    0
                                </td>
                            </tr>
                            <tr>
                                <td
                                    class="darker"
                                    id="name_POMPE PUMP HOUSE"
                                ></td>
                                <td class="lighter" id="val_POMPE PUMP HOUSE">
                                    0
                                </td>
                                <td
                                    class="lighter"
                                    id="tOper_EB-V3"
                                    onclick="callResetOperTimer('EB-V3')"
                                >
                                    0
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <div
            class="w3-container"
            style="margin-top: 10px; width: 100%"
            id="Lignes_Devices"
        >
            <div
                class="w3-third"
                style="margin-right: 2%; width: auto"
                id="Vacuums"
            >
                <table id="vacuumlist">
                    <thead>
                        <tr>
                            <th
                                class="tablename"
                                colspan="7"
                                id="VacuumDatacerName"
                            >
                                Vacuums Datacer
                            </th>
                        </tr>
                        <tr>
                            <th class="darker">Nom</th>
                            <th class="darker">Vac.<br />(inHg)</th>
                            <th class="darker">Vac ref<br />(inHg)</th>
                            <th class="darker">Perte<br />(inHg)</th>
                            <th class="darker">Temp.<br />(°C)</th>
                            <th class="darker">Batt.<br />(%)</th>
                            <th class="darker" style="visibility: visible">
                                Mise à<br />jour
                            </th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                    <tfoot>
                        <tr>
                            <th class="tablename" colspan="7">
                                Perte de vide (inHg) - Vert: &lt; 3, Jaune: De 3
                                à 6, Rouge: &gt; 6
                            </th>
                        </tr>
                    </tfoot>
                </table>
            </div>

            <div
                class="w3-third"
                style="margin-right: 2%; width: max-content"
                id="Devices"
            >
                <table id="devicelist">
                    <thead>
                        <tr>
                            <th
                                class="tablename"
                                colspan="4"
                                ondblclick="toggleTablesVisibility('allValves')"
                            >
                                Tous les Équipements
                            </th>
                        </tr>
                        <tr>
                            <th class="darker">Nom</th>
                            <th class="darker">M-à-J</th>
                            <th class="darker">Géneration</th>
                            <th class="darker">No. Série</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <div
                class="w3-third"
                style="width: max-content; margin-left: 2%; visibility: visible"
                id="allValves"
            >
                <table id="valvelist">
                    <thead>
                        <tr>
                            <th class="tablename" colspan="2">Valves</th>
                        </tr>
                        <tr>
                            <th class="darker">Name</th>
                            <th class="darker" id="valvesPos">Position</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>

        <div
            class="w3-container"
            style="margin-top: 10px; width: 100%"
            id="Datacer_Tanks_Water"
        >
            <div
                class="w3-third"
                style="margin-right: 2%; width: max-content"
                id="DatacerTanks"
            >
                <table id="datacerTanklist">
                    <thead>
                        <tr>
                            <th class="tablename" colspan="6">
                                Réservoirs Datacer
                            </th>
                        </tr>
                        <tr>
                            <th class="darker">Nom</th>
                            <th class="darker">Profondeur<br />(In)</th>
                            <th class="darker">Contenu<br />(Gal)</th>
                            <th class="darker">Lect.<br />(???)</th>
                            <th class="darker">Capacité<br />(Gal)</th>
                            <th class="darker">Mise à<br />jour</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>

            <div
                class="w3-third"
                style="margin-right: 2%; width: max-content"
                id="WaterMeters"
            >
                <table id="waterMeterlist">
                    <thead>
                        <tr>
                            <th class="tablename" colspan="3">
                                Compteurs d'eau Datacer
                            </th>
                        </tr>
                        <tr>
                            <th class="darker">Nom</th>
                            <th class="darker">Volume<br />(Gal)</th>
                            <th class="darker">Mise à<br />jour</th>
                        </tr>
                    </thead>
                    <tbody></tbody>
                </table>
            </div>
        </div>
    </body>
    <br />
    <footer> </footer>
</html>
