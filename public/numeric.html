<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link rel="stylesheet" href="/lib/w3schools23.css" />
        <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-grey.css"/>
        <link rel="stylesheet" href="/css/numeric.css"/>
        <title>Tableau de bord</title>
        <!-- <script src="/bower_components/jquery/dist/jquery.min.js"></script> -->
        <!-- <script src="/bower_components/peity/jquery.peity.min.js"></script> -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/peity/3.3.0/jquery.peity.js"></script>
        <script src="/scripts/numeric.js"></script>
    </head>

    <body>
        <div class="w3-container", style="width: 100%;", id="page_principale">
            <section id="haut_de_page">
                <div class="w3-display-container w3-theme w3-light-gray", style="width: 100%; height: 50px; display: inline-block; position: fixed;">
                    <div class="w3-container w3-display-bottommiddle", style="width: 70%; height: 50px; display: inline-block;", id="ZoneCentrale">
                        <div  class="w3-container w3-display-bottomleft" , style="width: 30%; height: 50px; display: inline-block;">
                            <h3 class="w3-display-topleft w3-mobile", id="siteName">Serveur de Tests</h3>
                        </div>
                        <div class="w3-container w3-display-topright", style="width: 30%; height: 50px;", id="coulee">
                            <h3 class="w3-display", style="display: inline; font-weight: bold;", id="c_text"></h3>
                            <h3 class="w3-display", style="display: inline;",  id="compteurDeTemps"></h3>
                        </div>
                    </div>
                    <div class="w3-container w3-display-left">
                        <h3 id="tempExt">0&#176;C<br /></h3>
                    </div>
                    <div class="w3-container w3-display-right", style="height: 80px;">
                        <h5 id="lastestUpdate"></h5>
                    </div>
                </div>
            </section>

            <section id="page_operation">
                <div class="w3-third", style="margin-top: 50px; width:max-content;", id="Reservoirs">
                    <h3>Réservoirs</h3>
                    <table id="tanklist">
                        <tr>
                            <th class="darker">Réservoirs</th>
                            <th class="darker">Cont. <br />(gal)</th>
                            <th class="darker">Cont. <br />(%)</th>
                            <th class="darker">Valve <br />Sortie</th>
                            <th class="darker">Valve <br />Drain</th>
                            <th>Lect. <br />(mm)</th>
                            <th>Max <br />(gal)</th>
                        </tr>
                    </table>

                    <h3>Sommaire des Réservoirs</h3>
                    <table style="margin-top: 1px; width:max-content;", id="totalReservoirs">
                        <th class="darker">Sommaire</th>
                        <th class="darker">Cont.</th>
                        <th class="darker">Act. <br />(gal)</th>
                        <th class="darker">Act. <br />(%)</th>
                        <th class="darker">Sirop <br />(gal)</th>
                        <th class="darker">Disp. <br />(gal)</th>
                        <th>
                            Max. <br />
                            (gal)
                        </th>
                        <tr>
                            <td class="darker" , class="tankpercent">
                                RS1 à RS6
                                <input
                                    type="checkbox"
                                    id="CheckRF2"
                                    onclick="functionPlusRF2()"
                                />+RF2
                            </td>
                            <td class="lighter">Sève</td>
                            <td class="lighter" , id="RStot"></td>
                            <td class="lighter V_position" , id="RStotPC"></td>
                            <td
                                class="lighter V_position"
                                ,
                                id="RStoSirop"
                            ></td>
                            <td class="lighter V_position" , id="RSdisp"></td>
                            <td class="lighter V_position" , id="RSmax"></td>
                        </tr>
                        <tr>
                            <td class="darker" , id="RFsummaryName">
                                RF1 + RF2
                            </td>
                            <td class="lighter">Filt.</td>
                            <td class="lighter" , id="RFtot"></td>
                            <td class="lighter V_position" , id="RFtotPC"></td>
                            <td class="lighter V_position" , id=""></td>
                            <td class="lighter V_position" , id="RFdisp"></td>
                            <td class="lighter V_position" , id="RFmax"></td>
                        </tr>
                        <tr>
                            <td class="darker">RC1 + RC2</td>
                            <td class="lighter">Conc.</td>
                            <td class="lighter" , id="RCtot"></td>
                            <td class="lighter V_position" , id="RCtotPC"></td>
                            <td
                                class="lighter V_position"
                                ,
                                id="RCtoSirop"
                            ></td>
                            <td class="lighter V_position" , id="RCdisp"></td>
                            <td class="lighter V_position" , id="RCmax"></td>
                        </tr>
                        <tr>
                            <td class="darker">Total</td>
                            <td class="lighter">Sirop</td>
                            <td class="lighter" , id="SIRtot"></td>
                            <td class="lighter V_position" , id="SIRtotPC"></td>
                            <td class="lighter V_position" , id="SIRtotal"></td>
                            <td class="lighter V_position" , id="SIRdisp"></td>
                            <td class="lighter V_position" , id="SIRmax"></td>
                        </tr>
                    </table>
                </div>

                <div class="w3-quarter", style="margin-top: 50px; width:max-content; margin-left:3%;", id="Pompes">
                    <h3>Pompes</h3>
                    <table id="pumplist">
                        <tr>
                            <th class="darker">Pompes</th>
                            <th class="darker V_position">Etat</th>
                            <th class="darker">Util. <br />(%)</th>
                            <th class="darker">Débit <br />(gph)</th>
                            <th class="darker">Vol. <br />(gal)</th>
                        </tr>
                        <tr id="pumptotalrow" , class="lighter">
                            <td class="darker">Total</td>
                            <td></td>
                            <td></td>
                            <td
                                id="pumptotalrate"
                                ,
                                class="pumprate"
                                ,
                                style="font-weight: bold"
                            ></td>
                            <td
                                id="volumetotal"
                                ,
                                class="pumpvolume"
                                ,
                                style="font-weight: bold"
                            ></td>
                        </tr>
                        <tr class="lighter">
                            <td class="darker">Sirop Est.</td>
                            <td></td>
                            <td></td>
                            <td
                                id="debitEstimSirop"
                                ,
                                class="pumpvolume"
                                ,
                                style="font-style: italic; font-weight: bold"
                            ></td>
                            <td
                                id="estimSirop"
                                ,
                                class="pumpvolume"
                                ,
                                style="font-style: italic; font-weight: bold"
                            ></td>
                        </tr>
                        <!-- This is a bad idea to use table to layout page. To be corrected -->
                        <tr>
                            <td class="emptyCell">Blank</td>
                            <td class="emptyCell"></td>
                            <td class="emptyCell"></td>
                            <td class="emptyCell"></td>
                            <td class="emptyCell"></td>
                        </tr>
                        <!-- <tr style="border: none;"> 
                        <td  class="emptyCell">Blank</td>
                        <td class="emptyCell"></td>
                        <td class="emptyCell"></td>
                        <td class="emptyCell"></td>
                        <td class="emptyCell"></td>
                    </tr> -->
                    </table>

                    <h3>Valves Indépendantes</h3>
                    <table id="autreValves">
                        <tr>
                            <th class="darker">Valves</th>
                            <th class="darker">Description</th>
                            <th class="darker">Position</th>
                        </tr>
                        <tr>
                            <td class="darker">VaEC</td>
                            <td class="lighter">Entré Cabane</td>
                            <td
                                class="lighter V_position"
                                ,
                                id="VaEC_position"
                            ></td>
                        </tr>
                        <tr>
                            <td class="darker">VaTk</td>
                            <td class="lighter">Sortie Tankers</td>
                            <td
                                class="lighter V_position"
                                ,
                                id="VaTk_position"
                            ></td>
                        </tr>
                    </table>
                </div>

                <div class="w3-quarter", style="margin-top: 50px; width:max-content;  margin-left:3%;", id="Osmose">
                    <h3>Osmose</h3>
                    <table id="OsmoseSystem">
                      <tr>
                          <th class="darker">Osmose</th>
                          <th class="darker">Valeur</th>
                      </tr>
                      <tr>
                          <td class="darker">État</td>         
                          <td class="lighter V_position", id="Osmose_state"></td> </td>                
                      </tr>
                      <tr>
                          <td class="darker">Fonction</td>      
                          <td class="lighter rawvalue", id="Osmose_fonction"> </td>                           
                      </tr>
                      <tr>
                          <td class="darker">Durée opér. en cour</td>
                          <td class="lighter rawvalue", id="Osmose_tOperEC"> </td>                           
                      </tr>
                      <tr>
                          <td class="darker">Durée séq. 1234</td>
                          <td class="lighter rawvalue", id="Osmose_TempsSeq1234"> </td>                               
                      </tr>
                      <tr>
                          <td class="darker">Durée séq. 4321</td>
                          <td class="lighter rawvalue", id="Osmose_TempsSeq4321"> </td>                             
                      </tr>
                      <tr>
                          <td class="darker">T. Depuis lavage</td>
                          <td class="lighter rawvalue", id="Osmose_TempsDepuisLavage"> </td>                               
                      </tr>
                      <tr>
                          <td class="darker">Mise à jour</td>
                          <td class="lighter rawvalue", id="Osmose_lastUpdatedAt"> </td>                             
                      </tr>
                      <tr>
                          <td class="darker">Code alarme</td>
                          <td class="lighter rawvalue", id="Osmose_alarmNo"> </td>                             
                      </tr>
                      <tr>
                          <td class="darker">Message d'alarme</td>
                          <td class="lighter", id="Osmose_alarmMsg"> </td>                               
                      </tr>
  
                      <th class="darker">Concentration</th>
                      <th class="darker", id="Osmose_Concentration"> </th>
                      <tr>
                          <td class="darker">Séquence</td>
                          <td class="lighter rawvalue", id="Osmose_sequence"> </td>                               
                      </tr>
                      <tr>
                          <td class="darker">Brix Sève</td>
                          <td class="lighter rawvalue", id="Osmose_BrixSeve"> </td>                              
                      </tr>
                      <tr>
                          <td class="darker">Brix Concentré</td> 
                          <td class="lighter rawvalue", id="Osmose_BrixConc"> </td>                          
                      </tr>
                      <tr>
                          <td class="darker">Débit Col1 (g/m)</td>
                          <td class="lighter rawvalue", id="Osmose_Col1"> </td>                          
                      </tr>
                      <tr>
                          <td class="darker">Débit Col2 (g/m)</td>
                          <td class="lighter rawvalue", id="Osmose_Col2"> </td>                              
                      </tr>
                      <tr>
                          <td class="darker">Débit Col3 (g/m)</td>
                          <td class="lighter rawvalue", id="Osmose_Col3"> </td>                             
                      </tr>
                      <tr>
                          <td class="darker">Débit Col4 (g/m)</td>
                          <td class="lighter rawvalue", id="Osmose_Col4"> </td>                              
                      </tr>
                      <tr>
                          <td class="darker">Débit Conc. (g/m)</td>
                          <td class="lighter rawvalue", id="Osmose_Conc"> </td>                            
                      </tr>
                      <tr>
                          <td class="darker">Température (°C)</td>
                          <td class="lighter rawvalue", id="Osmose_Temp"> </td>                              
                      </tr>
                      <tr>
                          <td class="darker">Pression (PSI)</td>
                          <td class="lighter rawvalue", id="Osmose_Pres"> </td>                            
                      </tr>
  
                      <th class="darker">Sommaire</th>
                      <th class="darker", id="Osmose_Sommaire"> </th>
  
                      <tr>
                          <td class="darker">PC Conc. (%)</td>
                          <td class="lighter rawvalue", id="Osmose_PC_Conc"> </td>                          
                      </tr>
                      <tr>
                          <td class="darker">Débit Conc. (g/h)</td> 
                          <td class="lighter rawvalue", id="Osmose_Conc_GPH"> </td>                           
                      </tr>
                      <tr>
                          <td class="darker">Débit Filtrat (g/h)</td>
                          <td class="lighter rawvalue", id="Osmose_Filtrat_GPH"> </td>          
                      </tr>
                      <tr>
                          <td class="darker">Débit Total (g/h)</td> 
                          <td class="lighter rawvalue", id="Osmose_Total_GPH"> </td>                           
                      </tr>
                      <tr>
                          <td class="darker">Durée d'Osmose</td> 
                          <td class="lighter rawvalue", id="Osmose_Durée_sec"> </td>                         
                      </tr>
                      <tr>
                          <td class="darker">Durée totale Estimé</td> 
                          <td class="lighter rawvalue", id="Osmose_temps_approx"> </td>                         
                      </tr>
                    </table>
                </div>
            </section>

            <section id="page_devices_lignes">
                <div class="w3-third", style="width:max-content;", id="Vacuums">
                    <h3>Vacuum</h3>
                    <table id="vacuumlist">
                        <thead>
                            <tr>
                                <th class="darker">Nom</th>
                                <th class="darker">Vac.
                                    <br/>(inHg)</th>
                                <th class="darker">Perte
                                    <br/>(inHg)</th>
                                <th class="darker">Temp.
                                    <br/>(°C)</th>
                                <th class="darker">Batt.
                                    <br/>(%)</th>
                                <th class="darker">Illum.
                                    <br/>(lm)</th>
                                <th class="darker">RSSI,
                                    <br/>Qual</th>
                                <th class="darker", style="visibility:collapse;">Mise à
                                    <br/>jour</th>
                            </tr>                    
                        </thead>
                        <!-- <tbody id="lineVacTable">

                        </tbody> -->

                    </table>
                </div>

                <div class="w3-third", style="width:max-content;", id="Devices">
                    <h3>Devices</h3>
                    <table id="devicelist">
                        <tr>
                            <th class="darker">Name</th>
                            <th class="darker">Updated</th>
                            <th class="darker">Generation</th>
                            <th class="darker">Serial</th>
                        </tr>
                    </table>
                </div>
                
                <div class="w3-third", style="width:max-content;", id="allValves">
                    <table id="valves" , class="w3-table w3-striped w3-bordered" , style="visibility: hidden;">
                        <tr>
                            <td>
                                <h3>Valves</h3>
                                <table id="valvelist">
                                    <tr>
                                        <th>Name</th>
                                        <th id="valvesPos">Position</th>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </div>
            </section>
            
        </div>       
    </body>
    <footer></footer>
</html>
